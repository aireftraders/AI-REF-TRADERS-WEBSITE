<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI REF-TRADERS - SPA</title>
    <style>
        :root {
            --primary: #6C5CE7;
            --secondary: #00CEFF;
            --dark: #2D3436;
            --light: #F5F6FA;
            --success: #00B894;
            --danger: #D63031;
            --nigerian-green: #008753;
        }
        
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f6fa;
            color: #2d3436;
        }
        
        #app-container {
            max-width: 100%;
            min-height: 100vh;
            padding-bottom: 60px; /* Space for nav */
        }
        
        #content-container {
            padding: 15px;
        }
        
        /* Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            background-color: var(--primary);
            padding: 10px 0;
            z-index: 1000;
        }
        
        .nav-item {
            color: white;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            padding: 5px 10px;
            border-radius: 20px;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            background-color: var(--secondary);
            transform: translateY(-5px);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 3px;
        }
        
        /* Loading indicator */
        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
            z-index: 9999;
        }
        
        .loader-bar {
            height: 100%;
            width: 0%;
            background-color: var(--secondary);
            transition: width 0.3s ease;
        }
        
        /* Theme toggle */
        .theme-toggle {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1001;
            background: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Loading indicator -->
    <div class="loader" id="loader">
        <div class="loader-bar" id="loaderBar"></div>
    </div>
    
    <!-- Theme toggle -->
    <div class="theme-toggle" id="themeToggle">
        üåô
    </div>
    
    <!-- Main app container -->
    <div id="app-container">
        <!-- Content will be dynamically loaded here -->
        <div id="content-container"></div>
    </div>
    
    <!-- Bottom navigation -->
    <div class="bottom-nav">
        <a href="#" class="nav-item active" data-page="dashboard">
            <span class="nav-icon">üè†</span>
            <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item" data-page="trading">
            <span class="nav-icon">üìà</span>
            <span>Trading</span>
        </a>
        <a href="#" class="nav-item" data-page="games">
            <span class="nav-icon">üéÆ</span>
            <span>Games</span>
        </a>
        <a href="#" class="nav-item" data-page="ads">
            <span class="nav-icon">üì∫</span>
            <span>Ads</span>
        </a>
        <a href="#" class="nav-item" data-page="profile">
            <span class="nav-icon">üë§</span>
            <span>Profile</span>
        </a>
    </div>
    
    <script>
        // Configuration
        const PAGES = {
            dashboard: 'index.html',
            trading: 'trading.html',
            games: 'games.html',
            ads: 'ads.html',
            profile: 'profile.html',
            admin: 'admin.html'
        };
        
        // State management
        let currentPage = 'dashboard';
        let isDarkMode = false;
        
        // DOM elements
        const contentContainer = document.getElementById('content-container');
        const loader = document.getElementById('loader');
        const loaderBar = document.getElementById('loaderBar');
        const navItems = document.querySelectorAll('.nav-item');
        const themeToggle = document.getElementById('themeToggle');
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Load the default page
            loadPage(currentPage);
            
            // Set up navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = item.dataset.page;
                    if (page !== currentPage) {
                        setActiveNav(item);
                        loadPage(page);
                    }
                });
            });
            
            // Set up theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Check for admin (you can implement your own logic)
            checkAdminAccess();
        });
        
        // Load a page dynamically
        async function loadPage(pageName) {
            currentPage = pageName;
            showLoader();
            
            try {
                const response = await fetch(PAGES[pageName]);
                const html = await response.text();
                
                // Extract just the content we need (between <body> tags)
                const bodyContent = extractBodyContent(html);
                
                // Update the content container
                contentContainer.innerHTML = bodyContent;
                
                // Initialize scripts for the loaded page
                initPageScripts(pageName);
                
                // Hide loader when content is ready
                hideLoader();
            } catch (error) {
                console.error('Error loading page:', error);
                contentContainer.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <h3>Error loading page</h3>
                        <p>Could not load ${pageName}. Please try again.</p>
                        <button onclick="loadPage('dashboard')">Return to Dashboard</button>
                    </div>
                `;
                hideLoader();
            }
        }
        
        // Extract body content from full HTML
        function extractBodyContent(html) {
            const doc = new DOMParser().parseFromString(html, 'text/html');
            return doc.body.innerHTML;
        }
        
        // Initialize scripts for specific pages
        function initPageScripts(pageName) {
            // You can add page-specific initialization here
            console.log(`Initializing ${pageName} scripts`);
            
            // Example: Initialize trading page scripts
            if (pageName === 'trading') {
                initTradingPage();
            }
            
            // Example: Initialize games page scripts
            if (pageName === 'games') {
                initGamesPage();
            }
            
            // Reapply theme when new page loads
            applyTheme();
        }
        
        // Example page-specific initializers
        function initTradingPage() {
            console.log('Trading page scripts initialized');
            // Add trading-specific JS here or load external scripts
        }
        
        function initGamesPage() {
            console.log('Games page scripts initialized');
            // Add games-specific JS here or load external scripts
        }
        
        // Navigation helpers
        function setActiveNav(activeItem) {
            navItems.forEach(item => item.classList.remove('active'));
            activeItem.classList.add('active');
        }
        
        // Loader animation
        function showLoader() {
            loader.style.display = 'block';
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                loaderBar.style.width = `${progress}%`;
                if (progress >= 90) clearInterval(interval);
            }, 50);
        }
        
        function hideLoader() {
            loaderBar.style.width = '100%';
            setTimeout(() => {
                loader.style.display = 'none';
                loaderBar.style.width = '0%';
            }, 300);
        }
        
        // Theme management
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            applyTheme();
            themeToggle.textContent = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('darkMode', isDarkMode);
        }
        
        function applyTheme() {
            if (isDarkMode) {
                document.documentElement.style.setProperty('--bg-color', '#121212');
                document.documentElement.style.setProperty('--text-color', '#E0E0E0');
                document.documentElement.style.setProperty('--card-bg', '#1E1E1E');
            } else {
                document.documentElement.style.setProperty('--bg-color', '#F5F6FA');
                document.documentElement.style.setProperty('--text-color', '#2D3436');
                document.documentElement.style.setProperty('--card-bg', '#FFFFFF');
            }
        }
        
        // Check for admin access
        function checkAdminAccess() {
            // Implement your admin check logic
            const isAdmin = localStorage.getItem('admin') === 'true';
            if (isAdmin) {
                const adminNav = document.createElement('a');
                adminNav.href = '#';
                adminNav.className = 'nav-item';
                adminNav.dataset.page = 'admin';
                adminNav.innerHTML = '<span class="nav-icon">üîí</span><span>Admin</span>';
                adminNav.addEventListener('click', (e) => {
                    e.preventDefault();
                    setActiveNav(adminNav);
                    loadPage('admin');
                });
                document.querySelector('.bottom-nav').appendChild(adminNav);
            }
        }
        
        // Global function to navigate between pages
        window.navigateTo = function(pageName) {
            const navItem = document.querySelector(`.nav-item[data-page="${pageName}"]`);
            if (navItem) {
                setActiveNav(navItem);
                loadPage(pageName);
            }
        };
        
        // Initialize theme from localStorage
        if (localStorage.getItem('darkMode') === 'true') {
            isDarkMode = true;
            themeToggle.textContent = '‚òÄÔ∏è';
            applyTheme();
        }
    </script>
</body>
</html>
